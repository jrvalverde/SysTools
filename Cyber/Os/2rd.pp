2RD   2000
.REVISED 6/21/64
 
 
2000  0100  EXIT
2001  0000
2002  0200  RJ MODIFY FILE PARAMETERS
2003  2501
2004  3064
2005  3262
2006  1014
2007  3165
2010  3263  OUT - IN
2011  0402
2012  0607
2013  1006
2014  3166  + LIMIT
2015  3260  - FIRST
2016  1014
2017  3167
2020  3261
2021  1701  - 1
2022  1071
2023  3407  STORE NUMBER OF SECTORS TO GO
2024  0453  EXIT ON ZERO
2025  3066
2026  3262
2027  1014
2030  3167
2031  3263
2032  3401  STORE WORDS TO LIMIT
2033  1071
2034  1601
2035  3406  STORE SECTORS TO LIMIT
2036  3001
2037  1277
2040  3404  STORE LENGTH OF FIRST PART
2041  3071
2042  3204
2043  3405  STORE LENGTH OF SECOND PART
2044  3004
2045  1002
2046  3104
2047  2100
2050  7002
2051  5400  STORE SECOND PART ADDRESS
2052  2220
2053  3060
2054  1014
2055  3161
2056  3105
2057  5400  STORE ADDRESS AFTER SPLIT SECTOR
2060  2227
2061  1063
2062  5500
2063  2224
2064  3022
2065  0505  SENSE CURRENT TRACK
2066  1420
2067  3524  SET FILE MARK
2070  0306
2071  0000
2072  0200  RJ LOAD BUFFER
2073  2101
2074  0200  RJ UPDATE BUFFER STATUS
2075  2441
2076  0100
2077  2000  EXIT
 
 
.LOAD BUFFER
 
2100  0100  EXIT
2101  0000
2102  3031
2103  0200  RJ REQUEST CHANNEL
2104  0741
2105  0200  RJ POSITION DISK
2106  2301
2107  3022
2110  1074
2111  1201
2112  3132
2113  3123
2114  3123
2115  3401
2116  7600  BEGIN READ
2117  7400
2120  2000
2121  0502
2122  7100  INPUT DATA
2123  7000
2124  7500
2125  7700  REQUEST STATUS
2126  0700
2127  7400
2130  7000
2131  7500
2132  1012
2133  0603  JUMP ON PARITY OK
2134  0200  RJ REREAD
2135  2341
2136  5000
2137  7000
2140  0436  SENSE CONTROL BYTE
2141  3423
2142  1006
2143  0607  SENSE TRACK NUMBER
2144  1071
2145  3422
2146  1400
2147  3423
2150  0200  RJ POSITION DISK
2151  2301
2152  5000
2153  7001
2154  3401
2155  0421  JUMP ON ZERO LENGTH
2156  3706
2157  0422  JUMP ON SPLIT SECTOR
2160  3062
2161  1006
2162  3155
2163  1006
2164  3163
2165  6301  STORE SECTOR
2166  7002
2167  3001
2170  3563  IN = IN + LENGTH
2171  1063
2172  3562
2173  3001
2174  1071
2175  0534
2176  0100
2177  2256  EXIT ON SHORT SECTOR
2200  0000
2201  3004
2202  0410  SENSE ZERO FIRST PART
2203  3062
2204  1006
2205  3155
2206  1006
2207  3163
2210  6304  STORE FIRST PART
2211  7002
2212  3060
2213  1006
2214  3155
2215  1006
2216  3161
2217  6305  STORE SECOND PART
2220  0000
2221  3001
2222  1071
2223  0413  JUMP ON SPLIT SHORT SECTOR
2224  1400
2225  3462
2226  2000
2227  0000
2230  3463
2231  3707
2232  0426  SENSE END OF BUFFER
2233  0100
2234  2107  LOOP
2235  0000
2236  3001  COMPLETE SPLIT SHORT SECTOR
2237  3563  IN = IN + LENGTH
2240  1063
2241  3562
2242  3266
2243  1014
2244  3163
2245  3267  IN - LIMIT
2246  0710
2247  1006
2250  3160  + FIRST
2251  1014
2252  3161
2253  3463
2254  1063
2255  3462
2256  1410
2257  3524  SET END RECORD
2260  3031
2261  0200  RJ DROP CHANNEL
2262  0751
2263  3062
2264  3366
2265  1014
2266  3363
2267  3367
2270  0505  SENSE IN = LIMIT
2271  3060
2272  3462
2273  3061
2274  3463
2275  0100
2276  2100  EXIT
2277  0000
 
 
.POSITION DISK
 
2300  0100  EXIT
2301  0000
2302  1410
2303  6010  READ DISK STATUS
2304  3011
2305  3322
2306  2200
2307  7760
2310  0411  JUMP ON SAME POSITION
2311  3022
2312  1073
2313  2200
2314  0177
2315  2100
2316  0400
2317  3132
2320  7600  POSITION
2321  3011
2322  3322
2323  1207
2324  0407  JUMP ON SAME GROUP
2325  3022
2326  1207
2327  2100
2330  0600
2331  3132
2332  7600  GROUP
2333  3022
2334  3411
2335  1410
2336  6210  STORE DISK STATUS
2337  0340  EXIT
 
 
.REREAD
 
2340  0100  EXIT
2341  0000
2342  0200  RJ READ SECTOR
2343  2401
2344  3022
2345  1207
2346  2100
2347  0610
2350  3132
2351  7600  MARGIN 1
2352  0200  RJ READ SECTOR
2353  2401
2354  3022
2355  1207
2356  2100
2357  0670
2360  3132
2361  7600  MARGIN 7
2362  0200  RJ READ SECTOR
2363  2401
2364  3031
2365  1006
2366  5500
2367  0455
2370  3022
2371  3406
2372  3023
2373  3407
2374  0100
2375  0200  ERROR EXIT
2376  0000
2377  0000
 
 
.READ SECTOR
 
2400  0100  EXIT
2401  0000
2402  3001
2403  7600  BEGIN READ
2404  7400
2405  2000
2406  0502
2407  7100  INPUT DATA
2410  7000
2411  7500
2412  2000
2413  0700
2414  3132
2415  7600  REQUEST STATUS
2416  7400
2417  7000  READ STATUS
2420  7500
2421  1012
2422  0755  EXIT ON PARITY ERROR
2423  0100
2424  2340  EXIT ON PARITY OK
2425  0000
2426  0000
2427  0000
 
 
.UPDATE BUFFER STATUS
 
2440  0100  EXIT
2441  0000
2442  1400
2443  6010
2444  3062
2445  3413
2446  3063
2447  3414
2450  3053
2451  1006
2452  3155
2453  1006
2454  3154
2455  1602
2456  6210  STORE IN ADDRESS
2457  5000
2460  7000
2461  0556  SENSE FILE MARK
2462  1410
2463  3524  SET FILE MARK
2464  0353  EXIT
2465  0000
2466  0000
2467  0000
 
 
.MODIFY FILE PARAMETERS
 
2500  0100  EXIT
2501  0000
2502  1405
2503  6010  READ EST STATUS
2504  3010
2505  3120
2506  6030  READ EST ENTRY
2507  2000
2510  2530
2511  3401  STORE TABLE ADDRESS
2512  4001
2513  0407  SENSE END OF TABLE
2514  3402
2515  3031
2516  4502
2517  3601
2520  0371  LOOP
2521  0000
2522  3032
2523  5500
2524  2126
2525  0352  EXIT
2526  0000
2527  0000
2530  2116
2531  2117
2532  2122
2533  2124
2534  2125
2535  2127
2536  2130
2537  2131
2540  2302
2541  2320
2542  2332
2543  2335
2544  2351
2545  2361
2546  2403
2547  2404
2550  2407
2551  2411
2552  2415
2553  2416
2554  2417
2555  2420
2556  0000
2557  0000
