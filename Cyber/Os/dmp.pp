DMP   1000
.REVISED 11/8/64
 
.TEMPORARY STORAGE
.20/24  FILE STATUS
.45  LAST BUFFER STATUS
.50/54  INPUT REGISTER
.55  REFERENCE ADDRESS
.57  FILE STATUS ADDRESS
.60/61  INITIAL ADDRESS
.62/63  TERMINAL ADDRESS
.64  BUFFER INPUT ADDRESS
.65  BUFFER OUTPUT ADDRESS
.74  CONTROL POINT ADDRESS
.2000/7000  DISK BUFFER
 
1000  3075
1001  6050  READ INPUT REGISTER
1002  3052
1003  1071
1004  3460
1005  3052
1006  1277
1007  1014
1010  3153
1011  1071
1012  3461  STORE INITIAL ADDRESS
1013  3053
1014  1277
1015  3462
1016  3054
1017  3463  STORE TERMINAL ADDRESS
1020  3051
1021  1207
1022  1007
1023  3474  STORE CP ADDRESS
1024  3062
1025  3260
1026  0704
1027  1014
1030  3163
1031  3261
1032  0734
1033  0505  SENSE ZERO
1034  0200  RJ PROCESS EXCHANGE AREA
1035  1561
1036  0316
1037  0000
1040  3074
1041  1620
1042  6010  READ CP STATUS
1043  3062
1044  1014
1045  3163
1046  1701
1047  1071
1050  3214  CHECK FL
1051  0615  SENSE ERROR
1052  3013
1053  3455  STORE RA
1054  0200  RJ SEARCH FOR OUTPUT FILE
1055  1101
1056  0200  RJ ENTER OUTPUT FILE
1057  1201
1060  1412  RELEASE PP
1061  0200  RJ PROCESS REQUEST
1062  0761
1063  0100
1064  0100  EXIT
1065  0000
1066  2000
1067  1770  DMP ARG ERROR
1070  0200  RJ DAYFILE MESSAGE
1071  0531
1072  1413  ABORT CP
1073  0200  RJ PROCESS REQUEST
1074  0761
1075  0100
1076  0100  EXIT
1077  0000
 
 
.SEARCH FOR OUTPUT FILE
 
1100  0100  EXIT
1101  0000
1102  1404
1103  6020  READ FNT STATUS
1104  3051
1105  1207
1106  1630
1107  3401  STORE FILE TYPE
1110  3020
1111  6010  READ FNT ENTRY
1112  3014
1113  3301
1114  0517  JUMP ON MISS
1115  3010
1116  2300
1117  1725  O U
1120  0513  JUMP ON MISS
1121  3011
1122  2300
1123  2420  T P
1124  0507  JUMP ON MISS
1125  3012
1126  2300
1127  2524  U T
1130  0503  JUMP ON MISS
1131  3013
1132  0407  JUMP ON HIT
1133  1402
1134  3520  ADVANCE ADDRESS
1135  3321
1136  0551  LOOP
1137  0200  RJ BEGIN OUTPUT FILE
1140  2031
1141  1414  FST CHANNEL
1142  0200  RJ REQUEST CHANNEL
1143  0741
1144  3620
1145  3457  STORE FILE STATUS ADDRESS
1146  6020  READ FILE STATUS
1147  3020
1150  0517  JUMP ON EQUIPMENT
1151  3024
1152  3445  STORE LAST STATUS
1153  1201
1154  0413  JUMP ON NOT READY
1155  1414
1156  3424
1157  3057
1160  6220  STORE FILE STATUS
1161  1414  FST CHANNEL
1162  0200  RJ DROP CHANNEL
1163  0751
1164  0100
1165  1100  EXIT
1166  0000
1167  1414  FST CHANNEL
1170  0200  RJ DROP CHANNEL
1171  0751
1172  1412  RELEASE PP
1173  0200  RJ PROCESS REQUEST
1174  0761
1175  0100
1176  0100  EXIT
1177  0000
 
 
.ENTER OUTPUT FILE
 
1200  0100  EXIT
1201  0000
1202  2000
1203  2024  PRESET INPUT BUFFER
1204  3464
1205  3745
1206  0403  SENSE NEW FILE
1207  1204
1210  0415  JUMP ON READ FILE
1211  3022
1212  0516  SENSE TRACK NUMBER
1213  3021
1214  0513  SENSE INITIAL TRACK
1215  1410
1216  3411
1217  1406  REQUEST TRACK
1220  0200  RJ PROCESS REQUEST
1221  0761
1222  3077
1223  6010  READ MESSAGE BUFFER
1224  3010
1225  0436  EXIT ON NO TRACK
1226  3421
1227  3422
1230  3060
1231  1006
1232  3155
1233  1006
1234  3161
1235  6010  READ NEXT WORD
1236  0200  RJ ENTER LINE
1237  1301
1240  3661
1241  1063
1242  3560
1243  3061
1244  3363
1245  0562  LOOP
1246  3060
1247  3362
1250  0557  LOOP
1251  3064
1252  1605
1253  3401
1254  1400
1255  4464  CLEAR WORD
1256  3664
1257  3301
1260  0573  LOOP
1261  0200  RJ DUMP BUFFER
1262  1601
1263  1411
1264  3524
1265  3057
1266  6220  STORE FILE STATUS
1267  0100
1270  1200  EXIT
1271  0000
1272  0000
1273  0000
1274  0000
1275  0000
1276  0000
1277  0000
 
 
.ENTER LINE IN BUFFER
 
1300  0100  EXIT
1301  0000
1302  1455
1303  4464  STORE 2 SPACES
1304  3664
1305  3060
1306  1074
1307  1633
1310  1006
1311  4464
1312  3060
1313  1207
1314  1633
1315  4564  STORE BYTE
1316  3664
1317  3061
1320  1066
1321  1633
1322  1006
1323  4464
1324  3061
1325  1071
1326  1207
1327  1633
1330  4564  STORE BYTE
1331  3664
1332  3061
1333  1074
1334  1207
1335  1633
1336  1006
1337  4464
1340  3061
1341  1207
1342  1633
1343  4564  STORE BYTE
1344  3664
1345  1455
1346  4464  STORE SPACES
1347  3664
1350  3010
1351  1066
1352  1633
1353  1006
1354  4464
1355  3010
1356  1071
1357  1207
1360  1633
1361  4564  STORE BYTE
1362  3664
1363  3010
1364  1074
1365  1207
1366  1633
1367  1006
1370  4464
1371  3010
1372  1207
1373  1633
1374  4564  STORE BYTE
1375  3664
1376  3011
1377  1066
1400  1633
1401  1006
1402  4464  STORE BYTE
1403  3664
1404  3011
1405  1071
1406  1207
1407  1633
1410  1006
1411  4464
1412  3011
1413  1074
1414  1207
1415  1633
1416  4564  STORE BYTE
1417  3664
1420  3011
1421  1207
1422  1633
1423  1006
1424  4464
1425  3012
1426  1066
1427  1633
1430  4564  STORE BYTE
1431  3664
1432  3012
1433  1071
1434  1207
1435  1633
1436  1006
1437  4464  STORE BYTE
1440  3664
1441  3012
1442  1074
1443  1207
1444  1633
1445  1006
1446  4464
1447  3012
1450  1207
1451  1633
1452  4564  STORE BYTE
1453  3664
1454  3013
1455  1066
1456  1633
1457  1006
1460  4464
1461  3013
1462  1071
1463  1207
1464  1633
1465  4564  STORE BYTE
1466  3664
1467  3013
1470  1074
1471  1207
1472  1633
1473  1006
1474  4464  STORE BYTE
1475  3664
1476  3013
1477  1207
1500  1633
1501  1006
1502  4464
1503  3014
1504  1066
1505  1633
1506  4564  STORE BYTE
1507  3664
1510  3014
1511  1071
1512  1207
1513  1633
1514  1006
1515  4464
1516  3014
1517  1074
1520  1207
1521  1633
1522  4564  STORE BYTE
1523  3664
1524  3014
1525  1207
1526  1633
1527  1006
1530  4464  STORE BYTE
1531  3664
1532  1400
1533  4464  STORE BYTE
1534  3664
1535  1400
1536  4464  STORE BYTE
1537  3664
1540  1400
1541  4464  STORE BYTE
1542  3664
1543  2300
1544  7000
1545  0404  SENSE LIMIT
1546  0100
1547  1300  EXIT
1550  0000
1551  0200  RJ DUMP BUFFER
1552  1601
1553  0100
1554  1300  EXIT
1555  0000
1556  0000
1557  0000
 
 
.PROCESS EXCHANGE AREA
 
1560  0100  EXIT
1561  0000
1562  3074
1563  1071
1564  3455  STORE RA
1565  1400
1566  3460
1567  3461
1570  3462
1571  1420
1572  3463
1573  2000
1574  3057  X .
1575  5400
1576  2007
1577  0360  EXIT
 
 
.DUMP BUFFER
 
1600  0100  EXIT
1601  0000
1602  1400  CHANNEL 0
1603  0200  RJ REQUEST CHANNEL
1604  0741
1605  2000
1606  2000
1607  3465  CLEAR BUFFER OUTPUT ADDRESS
1610  0200  RJ ENTER CONTROL BYTE
1611  1701
1612  2000
1613  0100
1614  3402  STORE SECTOR LENGTH
1615  3064
1616  3265
1617  2177
1620  7277
1621  0610  SENSE FULL SECTOR
1622  2377
1623  7777
1624  3401
1625  3702  COMPUTE LENGTH
1626  1505
1627  3501
1630  0574  LOOP
1631  3002
1632  5465  STORE SECTOR LENGTH
1633  7776
1634  3022
1635  0200  RJ POSITION DISK
1636  0701
1637  3065
1640  1702
1641  0200  RJ WRITE SECTOR
1642  1741
1643  5065
1644  7775
1645  0424  JUMP ON FILE MARK
1646  3423
1647  1006
1650  0605  SENSE CONTINUING TRACK
1651  1071
1652  3422
1653  1400
1654  3423
1655  3002
1656  1002
1657  3102
1660  3565  ADVANCE OUTPUT ADDRESS
1661  3364
1662  0403  SENSE BUFFER LIMIT
1663  0100
1664  1610  LOOP
1665  5465  CLEAR CONTROL BYTE
1666  7775
1667  0342  LOOP
1670  0000
1671  0200  RJ DROP CHANNEL
1672  0751
1673  2000
1674  2000
1675  3464  CLEAR INPUT ADDRESS
1676  0100
1677  1600  EXIT
 
 
.ENTER CONTROL BYTE
 
1700  0100  EXIT
1701  0000
1702  1410
1703  6010  READ DISK STATUS
1704  3022
1705  1075
1706  1201
1707  1613
1710  3402
1711  3023
1712  1601
1713  5465  STORE CONTROL BYTE
1714  7775
1715  4302
1716  0561  SENSE CONTINUING TRACK
1717  1410
1720  3411
1721  1406  REQUEST TRACK
1722  0200  RJ PROCESS REQUEST
1723  0761
1724  3077
1725  6010  READ MESSAGE BUFFER
1726  3010
1727  5465  STORE CONTROL BYTE
1730  7775
1731  0346  EXIT
1732  0000
1733  0000
1734  0000
1735  0000
1736  0000
1737  0000
 
 
.WRITE SECTOR
.BEGIN ADDRESS IN A
 
1740  0100  EXIT
1741  0000
1742  5400
1743  1762
1744  3022
1745  1074
1746  1201
1747  3401
1750  3023
1751  1001
1752  3101
1753  2100
1754  1200
1755  7600  BEGIN WRITE
1756  7400
1757  2000
1760  0502
1761  7300  OUTPUT DATA
1762  0000  COMPUTED ADDRESS
1763  7500
1764  0353  EXIT
1765  0000
1766  0000
1767  0000
1770  0415  D M
1771  2055  P SP
1772  0122  A R
1773  0755  G SP
1774  0522  E R
1775  2217  R O
1776  2257  R .
1777  0000
 
 
.DISK BUFFER
 
2000  3300  INITIAL MESSAGE
2001  0000
2002  0000
2003  0000
2004  0000
2005  5504  SP D
2006  1520  M P
2007  5700  .
2010  0000
2011  0000
2012  0055
2013  0055
2014  0055
2015  0055
2016  0055
2017  0000
2020  0000
2021  0000
2022  0000
2023  0000
2024  0000
2025  0000
2026  0000
2027  0000
 
 
.BEGIN OUTPUT FILE
 
2030  0100  EXIT
2031  0000
2032  1415  FNT CHANNEL
2033  0200  RJ REQUEST CHANNEL
2034  0741
2035  1404
2036  6020  READ FNT STATUS
2037  3020
2040  6010  READ FNT ENTRY
2041  3010
2042  0416  JUMP ON BLANK
2043  1402
2044  3520  ADVANCE ADDRESS
2045  3321
2046  0570  LOOP
2047  1415  FNT CHANNEL
2050  0200  RJ DROP CHANNEL
2051  0751
2052  1412  RELEASE PP
2053  0200  RJ PROCESS REQUEST
2054  0761
2055  0100
2056  0100  EXIT
2057  0000
2060  3051
2061  1207
2062  5500  ADD CP NUMBER
2063  2104
2064  1402
2065  3401
2066  3020
2067  6301  STORE FILE NAME
2070  2100
2071  1415  FNT CHANNEL
2072  0200  RJ DROP CHANNEL
2073  0751
2074  0100
2075  2030  EXIT
2076  0000
2077  0000
2100  1725  O U
2101  2420  T P
2102  2524  U T
2103  0000
2104  0030
2105  0000
2106  0000
2107  0000
2110  0000
2111  0001
2112  0000
2113  0000
2114  0000
2115  0000
2116  0000
2117  0000
