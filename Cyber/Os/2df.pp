2DF   2000
.DROP FILE
 
.FILE NAME IN TEMP 40/44
 
2000  0100  EXIT
2001  0000
2002  0200  RJ SEARCH FOR FILE
2003  2101
2004  3057
2005  0472  EXIT ON MISS
2006  6020  READ FILE STATUS
2007  3020
2010  1704
2011  0706
2012  3020
2013  3411
2014  1423  DROP EQUIPMENT
2015  0200  RJ PROCESS REQUEST
2016  0761
2017  3057
2020  1701
2021  6010  READ FILE NAME
2022  3014
2023  1270
2024  1120
2025  0510  SENSE COMMON FILE
2026  1420
2027  3414
2030  3057
2031  1701
2032  6210  RELEASE COMMON FILE
2033  0344  EXIT
2034  0000
2035  3020
2036  1704
2037  0603
2040  0200  RJ DROP DISK TRACKS
2041  2201
2042  1400
2043  6010
2044  3057
2045  6210  CLEAR FILE STATUS
2046  1701
2047  6210  CLEAR FILE NAME
2050  0100
2051  2000  EXIT
2052  0000
2053  0000
2054  0000
2055  0000
2056  0000
2057  0000
 
 
.SEARCH FOR FILE
.STORE FILE STATUS ADDRESS AT TEMP 57
 
2100  0100  EXIT
2101  0000
2102  1404
2103  6020  READ FNT STATUS
2104  3020
2105  6010  READ FNT ENTRY
2106  3010
2107  3340
2110  0517  JUMP ON MISS
2111  3011
2112  3341
2113  0514  JUMP ON MISS
2114  3012
2115  3342
2116  0511  JUMP ON MISS
2117  3013
2120  3343
2121  1377
2122  0505  JUMP ON MISS
2123  3014
2124  3351
2125  1207
2126  0407  JUMP ON HIT
2127  1402
2130  3520  ADVANCE SEARCH ADDRESS
2131  3321
2132  0551  LOOP
2133  0303
2134  0000
2135  3620
2136  3457
2137  0340  EXIT
 
 
.MODIFY PARAMETERS
 
2140  0100  EXIT
2141  0000
2142  2000
2143  2160
2144  3401  STORE TABLE ADDRESS
2145  4001
2146  0471  EXIT ON END OF TABLE
2147  3402
2150  3031
2151  4502
2152  3601
2153  0371  LOOP
2154  0000
2155  0000
2156  0000
2157  0000
2160  2305
2161  2313
2162  2321
2163  2342
2164  2344
2165  2347
2166  2351
2167  2355
2170  2356
2171  2357
2172  2360
2173  2411
2174  2423
2175  0000
2176  0000
2177  0000
 
 
.DROP DISK TRACKS
.FILE STATUS IN TEMP 20/24
 
2200  0100  EXIT
2201  0000
2202  3021
2203  0474  EXIT ON NO BEGINNING TRACK
2204  1405
2205  6010  READ EST TABLE
2206  3010
2207  3120
2210  6030  READ EST ENTRY
2211  0200  RJ MODIFY PARAMETERS
2212  2141
2213  3031
2214  0200  RJ REQUEST CHANNEL
2215  0741
2216  3021
2217  3422
2220  1400
2221  3423
2222  0200  RJ POSITION DISK
2223  2371
2224  3022
2225  3412
2226  1410
2227  3120
2230  3411
2231  1407  DROP TRACK
2232  0200  RJ PROCESS REQUEST
2233  0761
2234  0200  RJ READ SECTOR
2235  2261
2236  5000
2237  7000
2240  0410  JUMP ON END FILE
2241  3423
2242  1006
2243  0670  LOOP
2244  1071
2245  3422  STORE NEW TRACK
2246  0351  LOOP
2247  0000
2250  3031
2251  0200  RJ DROP CHANNEL
2252  0751
2253  0100
2254  2200  EXIT
2255  0000
2256  0000
2257  0000
 
 
.READ SECTOR
 
2260  0100  EXIT
2261  0000
2262  3022
2263  1074
2264  1201
2265  3401
2266  3023
2267  1001
2270  3101
2271  3132
2272  5400  STORE FUNCTION CODE
2273  2343
2274  0200  RJ READ DISK
2275  2341
2276  0361  EXIT ON PARITY OK
2277  3022
2300  1207
2301  2100
2302  0600
2303  3132
2304  3401  STORE GROUP CODE
2305  7600  SELECT NORMAL MARGIN
2306  0200  RJ READ DISK
2307  2341
2310  0347  EXIT ON PARITY OK
2311  3001
2312  1670
2313  7600  SELECT MARGIN 7
2314  0200  RJ READ DISK
2315  2341
2316  0341  EXIT ON PARITY OK
2317  3001
2320  1610
2321  7600  SELECT MARGIN 1
2322  0200  RJ READ DISK
2323  2341
2324  0371  EXIT ON PARITY OK
2325  3022
2326  3406
2327  3023
2330  3407
2331  3020
2332  1006
2333  5500
2334  0455
2335  0100
2336  0200  ERROR EXIT
2337  0000
 
 
.READ DISK
 
2340  0100  EXIT
2341  0000
2342  7700  BEGIN READ
2343  0000
2344  7400
2345  2000
2346  0502
2347  7100  INPUT DATA
2350  7000
2351  7500
2352  2000
2353  0700
2354  3132
2355  7600  REQUEST STATUS
2356  7400
2357  7000  READ STATUS
2360  7500
2361  1012
2362  0655  EXIT ON PARITY OK
2363  5600
2364  2341
2365  0352  EXIT ON PARITY FAILURE
2366  0000
2367  0000
 
 
.POSITION DISK
 
2370  0100  EXIT
2371  0000
2372  1410
2373  3120
2374  6010  READ DISK STATUS
2375  3022
2376  3311  COMPARE POSITIONS
2377  2200
2400  7760
2401  0411  JUMP ON SAME POSITION
2402  3022
2403  1073
2404  2200
2405  0177
2406  2100
2407  0400
2410  3132
2411  7600  POSITION
2412  3022
2413  3311
2414  1207
2415  0407  JUMP ON SAME GROUP
2416  3022
2417  1207
2420  2100
2421  0600
2422  3132
2423  7600  GROUP
2424  3022
2425  3411
2426  1410
2427  3120
2430  6210  STORE DISK STATUS
2431  0100
2432  2370  EXIT
2433  0000
2434  0000
2435  0000
2436  0000
2437  0000
