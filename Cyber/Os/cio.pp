CIO   1000
.COMBINED INPUT OUTPUT
.REVISED 10/14/64
 
.20/24  FILE STATUS WORD
.40/44  BUFFER CONTROL WORD
.45  LAST BUFFER STATUS
.50/54  INPUT REGISTER
.55  REFERENCE ADDRESS
.56  FIELD LENGTH
.57  FILE STATUS ADDRESS
.60/61  FIRST BUFFER ADDRESS
.62/63  BUFFER INPUT ADDRESS
.64/65  BUFFER OUTPUT ADDRESS
.66/67  BUFFER LIMIT ADDRESS
.70  CONSTANT 1
.71  CONSTANT 100
.72  CONSTANT 1000
.74  CONTROL POINT ADDRESS
 
1000  3075
1001  6050  READ INPUT REGISTER
1002  3051
1003  1207
1004  1007
1005  3474  STORE CONTROL POINT ADDRESS
1006  1401
1007  3470
1010  1006
1011  3471
1012  1003
1013  3472
1014  3074
1015  1620
1016  6010  READ CP STATUS
1017  3013
1020  3455  STORE RA
1021  3014
1022  3456  STORE FL
1023  2035
1024  0220  2BP
1025  0200  RJ CALL OVERLAY
1026  1101
1027  0200  RJ CALL 2BP
1030  2001
1031  3044
1032  1240
1033  0512  JUMP ON SPECIAL FUNCTION
1034  3044
1035  1204
1036  0504
1037  0200  RJ READ FUNCTION
1040  1241
1041  0314
1042  0200  RJ WRITE FUNCTION
1043  1321
1044  0311
1045  3044
1046  1230
1047  0504
1050  0200  RJ BACKSPACE
1051  1511
1052  0303
1053  0200  RJ REWIND
1054  1551
1055  3624
1056  3444
1057  3057
1060  6220  STORE FILE STATUS
1061  3053
1062  1006
1063  3155
1064  1006
1065  3154
1066  6240  STORE BUFFER STATUS
1067  1421  RECALL CP
1070  0200  RJ PROCESS REQUEST
1071  0761
1072  1412  RELEASE PP
1073  0200  RJ PROCESS REQUEST
1074  0761
1075  0100
1076  0100  EXIT
1077  0000
 
 
.CALL OVERLAY
 
1100  0100  EXIT
1101  0000
1102  3403
1103  1063
1104  3402
1105  1400
1106  3401
1107  1401
1110  6010  READ RPL ADDRESS
1111  3010
1112  3404
1113  3004
1114  3101
1115  6010  READ RPL ENTRY
1116  3011
1117  3302
1120  1006
1121  3310
1122  1006
1123  3303
1124  0405  JUMP ON HIT
1125  3014
1126  0411  SENSE END OF RPL
1127  3501  ADVANCE RPL ADDRESS
1130  0362  LOOP
1131  3004
1132  3101
1133  6114  READ PACKAGE
1134  1773
1135  0342  EXIT
1136  0000
1137  0000
1140  6010  READ PLD STATUS
1141  3010
1142  3401  STORE PLD ADDRESS
1143  3001
1144  6010  READ PLD ENTRY
1145  3010
1146  1014
1147  3311
1150  3302
1151  1014
1152  3303
1153  0404  JUMP ON HIT
1154  3601
1155  0365  LOOP
1156  0000
1157  3014
1160  3406  STORE TRACK NUMBER
1161  3013
1162  3407  STORE SECTOR NUMBER
1163  1400
1164  0200  RJ REQUEST CHANNEL
1165  0741
1166  2000
1167  1771
1170  3405  STORE PERIPHERAL ADDRESS
1171  3006
1172  0200  RJ POSITION DISK
1173  0701
1174  3005
1175  0200  RJ READ SECTOR
1176  0401
1177  4005
1200  3407  STORE NEXT SECTOR
1201  1006
1202  0605  JUMP ON CONTINUING TRACK
1203  1071
1204  3406  STORE NEW TRACK
1205  1400
1206  3407
1207  3016
1210  4405  RESTORE BYTE
1211  5005  READ SECTOR LENGTH
1212  0001
1213  3401  STORE SECTOR LENGTH
1214  3017
1215  5405  RESTORE BYTE
1216  0001
1217  2000
1220  0500
1221  3505  ADVANCE PERIPHERAL ADDRESS
1222  4005
1223  3416
1224  5005  SAVE TWO BYTES
1225  0001
1226  3417
1227  3001
1230  1071
1231  0403  JUMP ON SHORT SECTOR
1232  0100
1233  1171  LOOP
1234  0200  RJ DROP CHANNEL
1235  0751
1236  0100
1237  1100  EXIT
 
 
.READ FUNCTION
 
1240  0100  EXIT
1241  0000
1242  3020
1243  1704
1244  0613  SENSE DISK FILE
1245  3022
1246  0505  SENSE TRACK
1247  1420
1250  3524
1251  0366  EXIT
1252  0000
1253  2035
1254  2204  2RD
1255  0317
1256  0000
1257  1405
1260  6010  READ EST STATUS
1261  3010
1262  3120
1263  6030  READ EST ENTRY
1264  3033
1265  2200
1266  3777
1267  2300
1270  0322  CR
1271  0512
1272  2035
1273  2203  2RC
1274  0200  RJ CALL OVERLAY
1275  1101
1276  0200  RJ CALL SUBROUTINE
1277  2001
1300  0100
1301  1240  EXIT
1302  0000
1303  3033
1304  1277
1305  1124  T
1306  0506
1307  0200  RJ READ TAPE
1310  1641
1311  0100
1312  1240  EXIT
1313  0000
1314  1420
1315  3524
1316  0100
1317  1240  EXIT
 
 
.WRITE FUNCTION
 
1320  0100  EXIT
1321  0000
1322  3020
1323  1704
1324  0605  SENSE DISK FILE
1325  0200  RJ WRITE DISK
1326  1441
1327  0370  EXIT
1330  0000
1331  1405
1332  6010  READ EST STATUS
1333  3010
1334  3120
1335  6030  READ EST ENTRY
1336  3033
1337  2200
1340  3777
1341  3433
1342  2300
1343  0320  CP
1344  0505
1345  2035
1346  2003  2PC
1347  0310
1350  0000
1351  3033
1352  2300
1353  1420  LP
1354  0512
1355  2035
1356  1420  2LP
1357  0200  RJ CALL OVERLAY
1360  1101
1361  0200  RJ CALL SUBROUTINE
1362  2001
1363  0100
1364  1320  EXIT
1365  0000
1366  3033
1367  1277
1370  1124
1371  0571  SENSE T
1372  2035
1373  2724  2WT
1374  0200  RJ CALL OVERLAY
1375  1101
1376  3024
1377  1270
1400  1130
1401  0513  SENSE FILE MARK
1402  3045
1403  1270
1404  1110
1405  0407  SENSE CONTINUING RECORD
1406  3062
1407  3364
1410  1014
1411  3363
1412  3365
1413  0415  SENSE BUFFER DATA
1414  3033
1415  1007
1416  0710  SENSE WT
1417  3024
1420  1202
1421  0505  SENSE BINARY MODE
1422  0200  RJ CODED WRITE
1423  2641
1424  0304
1425  0000
1426  0200  RJ WRITE BINARY
1427  2001
1430  3024
1431  1270
1432  1130
1433  0503  SENSE FILE MARK
1434  0200  RJ FILE MARK
1435  2601
1436  0100
1437  1320  EXIT
 
 
.WRITE DISK
 
1440  0100  EXIT
1441  0000
1442  3022
1443  0412  SENSE NEW FILE
1444  3045
1445  1204
1446  0507  SENSE LAST MODE
1447  2035
1450  0424  2DT
1451  0200  RJ CALL OVERLAY
1452  1101
1453  0200  RJ CALL 2DT
1454  2001
1455  3024
1456  1270
1457  1130
1460  0513  SENSE FILE MARK
1461  3045
1462  1274
1463  1114
1464  0407  SENSE CONTINUING RECORD
1465  3062
1466  3364
1467  1014
1470  3363
1471  3365
1472  0407  SENSE BUFFER DATA
1473  2035
1474  2704  2WD
1475  0200  RJ CALL OVERLAY
1476  1101
1477  0200  RJ CALL 2WD
1500  2001
1501  0100
1502  1440  EXIT
1503  0000
1504  0000
1505  0000
1506  0000
1507  0000
 
 
.BACKSPACE
 
1510  0100  EXIT
1511  0000
1512  3020
1513  1704
1514  0611  SENSE DISK FILE
1515  2035
1516  0204  2BD
1517  0200  RJ CALL OVERLAY
1520  1101
1521  0200  RJ CALL 2BD
1522  2001
1523  0321
1524  0000
1525  1405
1526  6010  READ EST STATUS
1527  3010
1530  3120
1531  6030  READ EST ENTRY
1532  3033
1533  1277
1534  1124
1535  0507  SENSE T
1536  2035
1537  0224  2BT
1540  0200  RJ CALL OVERLAY
1541  1101
1542  0200  RJ CALL 2BT
1543  2001
1544  3024
1545  1304  SET READ MODE
1546  3424
1547  0340  EXIT
 
 
.REWIND
 
1550  0100  EXIT
1551  0000
1552  3020
1553  1704
1554  0607  SENSE DISK FILE
1555  3021
1556  3422
1557  1400
1560  3423
1561  0321
1562  0000
1563  1405
1564  6010  READ EST STATUS
1565  3010
1566  3120
1567  6030  READ EST ENTRY
1570  3033
1571  1277
1572  1124
1573  0507  SENSE T
1574  2035
1575  2224  2RT
1576  0200  RJ CALL OVERLAY
1577  1101
1600  0200  RJ CALL REWIND
1601  2501
1602  3024
1603  1304  SET READ MODE
1604  3424
1605  1400
1606  6010
1607  3060
1610  3462  IN = OUT = FIRST
1611  3464
1612  3413
1613  3061
1614  3463
1615  3465
1616  3414
1617  3053
1620  1006
1621  3155
1622  1006
1623  3154
1624  1602
1625  6210  STORE IN
1626  1601
1627  6210  STORE OUT
1630  0100
1631  1550  EXIT
1632  0000
1633  0000
1634  0000
1635  0000
1636  0000
1637  0000
 
 
.READ TAPE
 
1640  0100  EXIT
1641  0000
1642  2035
1643  2224  2RT
1644  0200  RJ CALL OVERLAY
1645  1101
1646  3024
1647  1202
1650  0510  SENSE BINARY MODE
1651  3033
1652  1007
1653  0705  SENSE WT
1654  0200  RJ READ BCD TAPE
1655  2611
1656  0361  EXIT
1657  0000
1660  0200  RJ READ BINARY TAPE
1661  2001
1662  0355  EXIT
1663  0000
1664  0000
1665  0000
1666  0000
1667  0000
