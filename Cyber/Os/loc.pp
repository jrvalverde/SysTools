LOC   1000
.REVISED 6/16/64
 
.TEMPORARY STORAGE
.40/44  WORD ASSEMBLY
.46/47  TEMPORARY STORAGE
.50/54  INPUT REGISTER
.55  REFERENCE ADDRESS
.56  FIELD LENGTH
.57  INPUT FILE STATUS ADDRESS
.60  BUFFER INPUT ADDRESS
.61  BUFFER OUTPUT ADDRESS
.62  STRING ADDRESS
.63/64  ASSEMBLED ADDRESS
.74  CONTROL POINT ADDRESS
.2000/7000  DISK BUFFER
.7200/7400  CHARACTER STRING
 
1000  3075
1001  6050  READ INPUT REGISTER
1002  3051
1003  1207
1004  1007
1005  3474  STORE CP ADDRESS
1006  1620
1007  6010  READ CP STATUS
1010  3013
1011  3455  STORE RA
1012  3014
1013  3456  STORE FL
1014  0200  RJ CLEAR STORAGE
1015  1501
1016  0200  RJ SEARCH FOR INPUT FILE
1017  1101
1020  0200  RJ LOAD BUFFER
1021  1201
1022  2000
1023  2000
1024  3461  CLEAR OUTPUT ADDRESS
1025  3360
1026  0430  SENSE EMPTY BUFFER
1027  0200  RJ UNPACK CHARACTER STRING
1030  1401
1031  0325  END OF RECORD
1032  0200  RJ ASSEMBLE ADDRESS
1033  1601
1034  0372  ERROR EXIT
1035  0200  RJ ASSEMBLE WORD
1036  1301
1037  0367  ERROR EXIT
1040  3063
1041  1014
1042  3164
1043  1071
1044  3256
1045  0661  JUMP ON FL LIMIT
1046  3063
1047  1006
1050  3155
1051  1006
1052  3164
1053  6240  STORE WORD
1054  0352  LOOP
1055  0000
1056  1412  RELEASE PP
1057  0200  RJ PROCESS REQUEST
1060  0761
1061  0100
1062  0100  EXIT
1063  0000
1064  0000
1065  0000
1066  0000
1067  0000
 
 
.SEARCH FOR INPUT FILE
 
1100  0100  EXIT
1101  0000
1102  1404
1103  6020  READ FNT STATUS
1104  3051
1105  1207
1106  1630
1107  3401  STORE FILE TYPE
1110  3020
1111  6010  READ FNT ENTRY
1112  3014
1113  3301
1114  0515  JUMP ON MISS
1115  3010
1116  2300
1117  1116  I N
1120  0511  JUMP ON MISS
1121  3011
1122  2300
1123  2025  P U
1124  0505  JUMP ON MISS
1125  3012
1126  2300
1127  2400  T
1130  0413  JUMP ON HIT
1131  1402
1132  3520  ADVANCE ADDRESS
1133  3321
1134  0553  LOOP
1135  1412  RELEASE PP
1136  0200  RJ PROCESS REQUEST
1137  0761
1140  0100
1141  0100  EXIT
1142  0000
1143  1414  FST CHANNEL
1144  0200  RJ REQUEST CHANNEL
1145  0741
1146  3620
1147  3457  STORE FILE STATUS ADDRESS
1150  6020  READ FILE STATUS
1151  3020
1152  0515  JUMP ON EQUIPMENT NUMBER
1153  3024
1154  1201
1155  0412  JUMP ON BUSY
1156  3724
1157  3057
1160  6220  STORE FILE STATUS
1161  1414  FST CHANNEL
1162  0200  RJ DROP CHANNEL
1163  0751
1164  0100
1165  1100  EXIT
1166  0000
1167  1414  FST CHANNEL
1170  0200  RJ DROP CHANNEL
1171  0751
1172  1412  RELEASE PP
1173  0200  RJ PROCESS REQUEST
1174  0761
1175  0100
1176  0100  EXIT
1177  0000
 
 
.LOAD BUFFER
.TEMPORARY STORAGE 46/47
.FILE STATUS IN TEMP 20/24
 
1200  0100  EXIT
1201  0000
1202  2000
1203  2000
1204  3460  CLEAR INPUT ADDRESS
1205  1400  CHANNEL 0
1206  0200  RJ REQUEST CHANNEL
1207  0741
1210  3760
1211  4060
1212  3447  STORE DATA BYTE
1213  3760
1214  4060
1215  3446  STORE DATA BYTE
1216  3022
1217  0412  JUMP ON NO TRACK
1220  3406
1221  0200  RJ POSITION DISK
1222  0701
1223  3023
1224  3407
1225  3060
1226  0200  RJ READ SECTOR
1227  0401
1230  4060
1231  0435  SENSE FILE MARK
1232  3423
1233  1006
1234  0605  SENSE NEW TRACK
1235  1071
1236  3422
1237  1400
1240  3423
1241  3046
1242  4460  RESTORE DATA BYTE
1243  3660
1244  4060
1245  3401  STORE LENGTH
1246  3047
1247  4460  RESTORE DATA BYTE
1250  3660
1251  3001
1252  1002
1253  3101
1254  3560  ADVANCE INPUT ADDRESS
1255  2300
1256  7000
1257  0410  JUMP ON BUFFER LIMIT
1260  3001
1261  1071
1262  0404  JUMP ON SHORT SECTOR
1263  0100
1264  1210  LOOP
1265  0000
1266  3624
1267  3057
1270  6220  STORE INPUT FILE STATUS
1271  1400  CHANNEL 0
1272  0200  RJ DROP CHANNEL
1273  0751
1274  0100
1275  1200  EXIT
1276  0000
1277  0000
 
 
.ASSEMBLE WORD
.ADVANCE EXIT EXCEPT ON ERROR
 
1300  0100  EXIT
1301  0000
1302  1400
1303  6040  CLEAR ASSEMBLY
1304  1401
1305  3444
1306  2000
1307  7206
1310  3462  CLEAR STRING ADDRESS
1311  4062
1312  1155
1313  0424  SENSE SPACE
1314  1155
1315  1743
1316  0661  EXIT ON MISS
1317  1610
1320  0757  EXIT ON MISS
1321  3401
1322  1444
1323  3402  STORE BYTE ADDRESS
1324  4002
1325  1003
1326  3101
1327  4402  STORE ASSEMBLY
1330  1063
1331  3401  STORE OVERFLOW
1332  3702
1333  1137
1334  0567  LOOP
1335  3001
1336  0504  SENSE OVERFLOW
1337  3662
1340  0350  LOOP
1341  0000
1342  5600  ADVANCE EXIT
1343  1301
1344  0100
1345  1300  EXIT
1346  0000
1347  0000
 
 
.UNPACK CHARACTER STRING
.ADVANCE EXIT EXCEPT ON END OF RECORD
 
1400  0100  EXIT
1401  0000
1402  2000
1403  7200
1404  3462  CLEAR STRING ADDRESS
1405  3060
1406  3361
1407  0514  SENSE END OF INPUT
1410  3060
1411  2300
1412  7000
1413  0564  EXIT ON SHORT SECTOR
1414  0200  RJ LOAD BUFFER
1415  1201
1416  2000
1417  2000
1420  3461  CLEAR OUTPUT ADDRESS
1421  3360
1422  0455  EXIT ON EMPTY BUFFER
1423  4061
1424  1071
1425  4462  STORE CHARACTER
1426  3662
1427  4061
1430  1277
1431  4462  STORE CHARACTER
1432  3661
1433  3662
1434  2300
1435  7400
1436  0505  SENSE STRING LIMIT
1437  5400
1440  7377
1441  0310  EXIT
1442  0000
1443  5061
1444  7776
1445  0404  SENSE BLANK BYTE
1446  0100
1447  1405  LOOP
1450  0000
1451  5600  ADVANCE EXIT
1452  1401
1453  0100
1454  1400  EXIT
1455  0000
1456  0000
1457  0000
1460  1417  L O
1461  0355  C SP
1462  0122  A R
1463  0725  G U
1464  1505  M E
1465  1624  N T
1466  5505  SP E
1467  2222  R R
1470  1722  O R
1471  5700  .
1472  0000
1473  0000
1474  0000
1475  0000
1476  0000
1477  0000
 
 
.CLEAR STORAGE
 
1500  0100  EXIT
1501  0000
1502  3052
1503  1071
1504  3463
1505  3052
1506  1277
1507  1014
1510  3153
1511  1071
1512  3464  STORE INITIAL ADDRESS
1513  3053
1514  1237
1515  3453
1516  3263
1517  0704
1520  1014
1521  3154
1522  3264
1523  0734  JUMP ON ERROR
1524  0453  EXIT ON EQUAL
1525  3053
1526  1014
1527  3154
1530  1701
1531  1071
1532  3256
1533  0624  SENSE FL
1534  1400
1535  6010
1536  3063
1537  1006
1540  3155
1541  1006
1542  3164
1543  6210  CLEAR STORAGE
1544  3664
1545  1063
1546  3563
1547  3353
1550  0565  LOOP
1551  3064
1552  3354
1553  0562  LOOP
1554  0100
1555  1500  EXIT
1556  0000
1557  2000
1560  1460  LOC ARGUMENT ERROR
1561  0200  RJ DAYFILE MESSAGE
1562  0531
1563  1413  ABORT CP
1564  0200  RJ PROCESS REQUEST
1565  0761
1566  0100
1567  0100  EXIT
 
 
.ASSEMBLE ADDRESS
.ADVANCE EXIT EXCEPT ON ERROR
 
1600  0100  EXIT
1601  0000
1602  1400
1603  3463
1604  3464
1605  2000
1606  7200
1607  3462  CLEAR STRING ADDRESS
1610  4062
1611  1155
1612  0415  SENSE SPACE
1613  1155
1614  1743
1615  0662  EXIT ON MISS
1616  1610
1617  0760  EXIT ON MISS
1620  3401
1621  3064
1622  1003
1623  3101
1624  3464  ASSEMBLE DIGIT
1625  1063
1626  3563
1627  3662  ADVANCE STRING ADDRESS
1630  2300
1631  7206
1632  0555  LOOP
1633  5600  ADVANCE EXIT
1634  1601
1635  0342  EXIT
1636  0000
1637  0000
