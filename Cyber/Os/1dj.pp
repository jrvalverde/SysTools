1DJ   1000
.PHASE THREE PRINT
.REVISED 10/14/64
 
.TEMPORARY STORAGE
.20/24  FILE STATUS WORD
.40/44  FILE CONTROL WORD
.46  DAYFILE BUFFER LENGTH
.47  BROKEN MESSAGE FLAG
.50/54  INPUT REGISTER
.52  EQUIPMENT NUMBER
.55  REFERENCE ADDRESS
.56  FIELD LENGTH
.57  FILE STATUS ADDRESS
.60/61  FIRST ADDRESS
.62/63  INPUT ADDRESS
.64/65  OUTPUT ADDRESS
.66/67  LIMIT ADDRESS
.70  CONSTANT 1
.71  CONSTANT 100
.72  CONSTANT 1000
.74  CONTROL POINT ADDRESS
.3200/6777  DAYFILE BUFFER
 
1000  3075
1001  6050  READ INPUT REGISTER
1002  3051
1003  1207
1004  1007
1005  3474  STORE CP ADDRESS
1006  1401
1007  3470
1010  1006
1011  3471
1012  1003
1013  3472
1014  0200  RJ ENTER CP STATUS
1015  1501
1016  3052
1017  0503
1020  0200  RJ REQUEST LP
1021  2001
1022  0200  RJ MODIFY PARAMETERS
1023  1441
1024  3074
1025  1621
1026  6370  STORE NAME
1027  1354  PRINT
1030  3074
1031  1630
1032  6370  CONSOLE MESSAGE
1033  1361  IDLE
1034  0200  RJ PROCESS JOB
1035  1041
1036  0365  LOOP
1037  0000
 
 
.PROCESS JOB
 
1040  0100  EXIT
1041  0000
1042  0200  RJ SEARCH FOR JOB
1043  1101
1044  2000
1045  1366  PRINT
1046  0200  RJ DAYFILE MESSAGE
1047  0531
1050  0200  RJ CLEAR PRINTER CHANNELS
1051  1261
1052  1404  ASSIGN PP TIME
1053  0200  RJ PROCESS REQUEST
1054  0761
1055  1400
1056  6010
1057  3074
1060  1622
1061  6210  CLEAR STATUS
1062  1602
1063  6210  CLEAR PP TIME
1064  0200  RJ PRINT OUTPUT FILE
1065  1201
1066  3074
1067  1621
1070  6040  READ JOB NAME
1071  2035
1072  0406  2DF
1073  0200  RJ CALL SUBROUTINE
1074  1401
1075  0200  RJ PRINT DAYFILE MESSAGES
1076  1301
1077  0340  EXIT
 
 
.SEARCH FOR JOB
 
1100  0100  EXIT
1101  0000
1102  1400
1103  3401  CLEAR PRIORITY
1104  3402  CLEAR ADDRESS
1105  1415  FNT CHANNEL
1106  0200  RJ REQUEST CHANNEL
1107  0741
1110  1404
1111  6020  READ FNT STATUS
1112  3020
1113  6010  READ FNT ENTRY
1114  3014
1115  1110
1116  0512  JUMP ON MISS
1117  3013
1120  1277
1121  3201
1122  0706  JUMP ON MISS
1123  3013
1124  1277
1125  3401  STORE TRIAL PRIORITY
1126  3020
1127  3402
1130  1402
1131  3520  ADVANCE SEARCH ADDRESS
1132  3321
1133  0556  LOOP
1134  3001
1135  0515  JUMP ON JOB
1136  1415  FNT CHANNEL
1137  0200  RJ DROP CHANNEL
1140  0751
1141  3074
1142  1625
1143  6250  STORE PP RECALL
1144  1412  RELEASE PP
1145  0200  RJ PROCESS REQUEST
1146  0761
1147  0100
1150  0100  EXIT
1151  0000
1152  3002
1153  6010  READ FILE NAME
1154  3051
1155  1207
1156  1630
1157  3414  ASSIGN FILE TO CP
1160  3013
1161  1377
1162  3413
1163  3002
1164  6210  STORE FILE NAME
1165  1400
1166  3414
1167  3074
1170  1621
1171  6210  STORE CP STATUS
1172  1415  FNT CHANNEL
1173  0200  RJ DROP CHANNEL
1174  0751
1175  0100
1176  1100  EXIT
1177  0000
 
 
.PRINT OUTPUT FILE
 
1200  0100  EXIT
1201  0000
1202  1400
1203  6010
1204  1410
1205  3414
1206  3055
1207  1006
1210  3154
1211  1601
1212  6210  STORE FIRST
1213  1601
1214  6210  STORE IN
1215  1601
1216  6210  STORE OUT
1217  3056
1220  1006
1221  3414
1222  1063
1223  3413
1224  3055
1225  1006
1226  3154
1227  1604
1230  6210  STORE LIMIT
1231  3074
1232  1621
1233  6010  READ JOB NAME
1234  1410
1235  3414
1236  3055
1237  1006
1240  3154
1241  6210  STORE BUFFER STATUS
1242  0200  RJ LOAD BUFFER
1243  1651
1244  0200  RJ DUMP BUFFER
1245  1601
1246  3044
1247  1135
1250  0404  SENSE FILE MARK
1251  0100
1252  1231  LOOP
1253  0000
1254  0100
1255  1200  EXIT
1256  0000
1257  0000
 
 
.CLEAR PRINTER CHANNELS
 
1260  0100  EXIT
1261  0000
1262  1410  CLEAR CHANNELS
1263  0200  RJ SELECT PRINTER FUNCTION
1264  1701
1265  1411  CHANNEL ONE
1266  0200  RJ SELECT PRINTER FUNCTION
1267  1701
1270  0367  EXIT
1271  0000
1272  0000
1273  0000
1274  0000
1275  0000
1276  0000
1277  0000
 
 
.PRINT DAYFILE MESSAGES
 
1300  0100  EXIT
1301  0000
1302  1404
1303  6010  READ FNT STATUS
1304  3010
1305  1601
1306  6020  READ DAYFILE STATUS
1307  3021
1310  3422
1311  1400
1312  3423
1313  3446  CLEAR WORD COUNT
1314  3447  CLEAR MESSAGE FLAG
1315  1411  COMPLETE DAYFILE
1316  0200  RJ PROCESS REQUEST
1317  0761
1320  1410
1321  3424
1322  2035
1323  2204  2RD
1324  0200  RJ CALL SUBROUTINE
1325  1401
1326  2035
1327  2304  2SD
1330  0200  RJ CALL SUBROUTINE
1331  1401
1332  3024
1333  1121
1334  0563  LOOP TO END OF RECORD
1335  0200  RJ DUMP BUFFER
1336  1601
1337  0340  EXIT
1340  2701  W A
1341  1124  I T
1342  1116  I N
1343  0755  G SP
1344  0617  F O
1345  2255  R SP
1346  2324  S T
1347  1722  O R
1350  0107  A G
1351  0557  E .
1352  0000
1353  0000
1354  2022  P R
1355  1116  I N
1356  2400  T
1357  0000
1360  0000
1361  1104  I D
1362  1405  L E
1363  5700  .
1364  0000
1365  0000
1366  2022  P R
1367  1116  I N
1370  2457  T .
1371  0000
1372  0000
1373  0000
1374  0000
1375  0000
1376  0000
1377  0000
 
 
.CALL RPL PACKAGE
.NAME IN A ON ENTRY
 
1400  0100  EXIT
1401  0000
1402  3403
1403  1063
1404  3402
1405  1400
1406  3401
1407  1401
1410  6010  READ RPL ADDRESS
1411  3010
1412  3404
1413  3004
1414  3101
1415  6010  READ RPL ENTRY
1416  3011
1417  3302
1420  1006
1421  3310
1422  1006
1423  3303
1424  0405  JUMP ON HIT
1425  3014
1426  3501  ADVANCE RPL ADDRESS
1427  0363  LOOP
1430  0000
1431  3004
1432  3101
1433  6114  READ PACKAGE
1434  1773
1435  0200  RJ CALL PACKAGE
1436  2001
1437  0340  EXIT
 
 
.MODIFY PARAMETERS
 
1440  0100  EXIT
1441  0000
1442  1405
1443  6010  READ EST STATUS
1444  3010
1445  3152
1446  6030  READ EST ENTRY
1447  2000
1450  1462
1451  3401  STORE TABLE ADDRESS
1452  4001
1453  0464  EXIT ON END OF TABLE
1454  3402
1455  3031
1456  4502
1457  3601
1460  0371  LOOP
1461  0000
1462  1711
1463  1712
1464  1713
1465  1714
1466  1722
1467  0000
1470  0000
1471  0000
1472  0000
1473  0000
1474  0000
1475  0000
1476  0000
1477  0000
 
 
.ENTER CP STATUS
 
1500  0100  EXIT
1501  0000
1502  3074
1503  1621
1504  6370  STORE JOB NAME
1505  1354
1506  3074
1507  1620
1510  6010  READ CP STATUS
1511  3011
1512  0525  SENSE ERROR FLAG
1513  3013
1514  3455  STORE RA
1515  3014
1516  3456  STORE FL
1517  1140
1520  0425  SENSE FL
1521  1440
1522  3411
1523  1410  REQUEST STORAGE
1524  0200  RJ PROCESS REQUEST
1525  0761
1526  1403
1527  3401
1530  3074
1531  1630
1532  6301  CONSOLE MESSAGE
1533  1340  WAITING FOR STORAGE
1534  3074
1535  1625
1536  6250  PP RECALL
1537  1412  RELEASE PP
1540  0200  RJ PROCESS REQUEST
1541  0761
1542  0100
1543  0100  EXIT
1544  0000
1545  1403
1546  3454  STORE BUFFER ADDRESS
1547  1400
1550  6010
1551  3055
1552  1006
1553  6210  CLEAR RA
1554  1601
1555  6210  CLEAR RA + 1
1556  1601
1557  6210  CLEAR RA + 2
1560  0100
1561  1500  EXIT
1562  0000
1563  0000
1564  2022  P R
1565  1116  I N
1566  2405  T E
1567  2255  R SP
1570  1617  N O
1571  2455  T SP
1572  2205  R E
1573  0104  A D
1574  3157  Y .
1575  0000
1576  0000
1577  0000
 
 
.DUMP BUFFER
 
1600  0100  EXIT
1601  0000
1602  2000
1603  2022  P R
1604  3440
1605  2000
1606  1116  I N
1607  3441
1610  2000
1611  2400  T
1612  3442
1613  1400
1614  3443
1615  1403
1616  3544
1617  3055
1620  1006
1621  3154
1622  6240  STORE BUFFER STATUS
1623  2035
1624  0220  2BP
1625  0200  RJ CALL SUBROUTINE
1626  1401
1627  3052
1630  3420  STORE EQUIPMENT NUMBER
1631  2035
1632  1420  2LP
1633  0200  RJ CALL SUBROUTINE
1634  1401
1635  3624
1636  3444
1637  3057
1640  6220  STORE FILE STATUS
1641  3055
1642  1006
1643  3154
1644  6240  STORE BUFFER STATUS
1645  0100
1646  1600  EXIT
1647  0000
 
 
.LOAD BUFFER
 
1650  0100  EXIT
1651  0000
1652  2035
1653  0220  2BP
1654  0200  RJ CALL SUBROUTINE
1655  1401
1656  2035
1657  2204  2RD
1660  0200  RJ CALL SUBROUTINE
1661  1401
1662  3624
1663  3444
1664  3057
1665  6220  STORE FILE STATUS
1666  3055
1667  1006
1670  3154
1671  6240  STORE BUFFER STATUS
1672  0355  EXIT
1673  0000
1674  0000
1675  0000
1676  0000
1677  0000
 
 
.SELECT PRINTER FUNCTION
 
1700  0100  EXIT
1701  0000
1702  3402  STORE FUNCTION
1703  3031
1704  0200  RJ REQUEST CHANNEL
1705  0741
1706  2000
1707  0607
1710  3132
1711  7600  REQUEST STATUS
1712  7400
1713  7000  READ STATUS
1714  7500
1715  0413  JUMP ON NOT READY
1716  2000
1717  0600
1720  3132
1721  3102
1722  7600  SELECT CHANNEL
1723  3031
1724  0200  RJ DROP CHANNEL
1725  0751
1726  0351  EXIT
1727  0000
1730  3031
1731  0200  RJ DROP CHANNEL
1732  0751
1733  1402
1734  3401
1735  3074
1736  1630
1737  6301  CONSOLE MESSAGE
1740  1564  PRINTER NOT READY
1741  1417  PAUSE
1742  0200  RJ PROCESS REQUEST
1743  0761
1744  3074
1745  1620
1746  6010  READ CP STATUS
1747  3013
1750  3455  STORE RA
1751  3011
1752  0504  SENSE ERROR FLAG
1753  0100
1754  1703  LOOP
1755  0000
1756  1412  RELEASE PP
1757  0200  RJ PROCESS REQUEST
1760  0761
1761  0100
1762  0100  EXIT
1763  0000
1764  0000
1765  0000
1766  0000
1767  0000
 
 
.REQUEST LP
 
2000  0100  EXIT
2001  0000
2002  2000
2003  1420  LP
2004  3411
2005  1422  REQUEST EQUIPMENT
2006  0200  RJ PROCESS REQUEST
2007  0761
2010  3077
2011  6010  READ MESSAGE BUFFER
2012  3010
2013  0520  JUMP ON EQUIPMENT NUMBER
2014  1402
2015  3401
2016  3074
2017  1630
2020  6301  STORE CONSOLE MESSAGE
2021  2036  NO LP AVAILABLE
2022  3074
2023  1625
2024  6250  STORE PP RECALL
2025  1412  RELEASE PP
2026  0200  RJ PROCESS REQUEST
2027  0761
2030  0100
2031  0100  EXIT
2032  0000
2033  3452  STORE EQUIPMENT NUMBER
2034  0343  EXIT
2035  0000
2036  1617  N O
2037  5514  SP L
2040  2055  P SP
2041  0126  A V
2042  0111  A I
2043  1401  L A
2044  0214  B L
2045  0557  E .
2046  0000
2047  0000
