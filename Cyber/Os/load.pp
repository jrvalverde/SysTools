.LOAD SYSTEM TAPE (50)
.REVISED 10/14/64
 
0000  0777
0075  0060  INPUT REGISTER ADDRESS
0076  0061  OUTPUT REGISTER ADDRESS
0077  0062  MESSAGE BUFFER ADDRESS
 
 
.IDLE PROGRAM
 
0100  3075
0101  6010  READ INPUT REGISTER
0102  3010
0103  0506  JUMP ON MESSAGE
0104  1477
0105  1701
0106  0576  DELAY
0107  0370  LOOP
0110  0000
0111  3416  STORE PACKAGE NAME
0112  3011
0113  3417
0114  1417  PAUSE FOR STORAGE RELOCATION
0115  0200  RJ PROCESS REQUEST
0116  0761
0117  0200  RJ SEARCH RPL
0120  0141
0121  0200  RJ SEARCH PLD
0122  0301
0123  0200  RJ DISPLAY ERROR MESSAGE
0124  0341
0125  1413  ABORT CP
0126  0200  RJ PROCESS REQUEST
0127  0761
0130  0100
0131  0100  EXIT
0132  0000
0133  0000
0134  0000
0135  0000
0136  0000
0137  0000
 
 
.SEARCH RPL
.PACKAGE NAME IN TEMP 16/17
.TEMP 10/17
 
 
0140  0100  EXIT
0141  0000
0142  1400
0143  3415
0144  1401
0145  6010  READ RPL ADDRESS
0146  3010
0147  3401
0150  3001
0151  3115
0152  6010  READ RPL ENTRY
0153  3010
0154  0463  EXIT ON END OF RPL
0155  3316
0156  0505  JUMP ON MISS
0157  3011
0160  3317
0161  1377
0162  0405  JUMP ON HIT
0163  3014
0164  3515  ADVANCE RPL ADDRESS
0165  0362  LOOP
0166  0000
0167  3001
0170  3115
0171  6114  READ PACKAGE
0172  0773
0173  0100
0174  1000  JUMP TO PACKAGE
0175  0000
0176  0000
0177  0000
 
 
.DISK PARITY ERROR EXIT
.TRACK NUMBER IN TEMP 06
.SECTOR NUMBER IN TEMP 07
.TEMP 01/14
 
0200  3006  FORM GROUP CODE
0201  1207
0202  2100
0203  0733
0204  5400
0205  0465
0206  3006  FORM TRACK CODE
0207  1065
0210  1201
0211  1633
0212  1006
0213  3401  STORE PARTIAL BYTE
0214  3006
0215  1070
0216  1207
0217  1633
0220  3101
0221  5400  STORE COMPLETE BYTE
0222  0467
0223  3006
0224  1073
0225  1207
0226  1006
0227  2100
0230  3355
0231  5400  STORE BYTE
0232  0470
0233  3007  FORM SECTOR CODE
0234  1072
0235  1201
0236  2100
0237  2333
0240  5400  STORE BYTE
0241  0471
0242  3007
0243  1001
0244  1207
0245  3401
0246  3006
0247  1074
0250  1201
0251  3501  ADD HALF TRACK
0252  3007
0253  1075
0254  1207
0255  1006
0256  3101
0257  2100
0260  3333
0261  5400
0262  0472  STORE BYTE
0263  2000
0264  0452
0265  0200  RJ DAYFILE MESSAGE
0266  0531
0267  0300  STOP
0270  0000
0271  0000
0272  0000
0273  0000
0274  0000
0275  0000
0276  0000
0277  0000
 
 
.SEARCH PLD
.PACKAGE NAME IN TEMP 16/17
.TEMP 01/17
 
0300  0100  EXIT
0301  0000
0302  1402
0303  6010  READ PLD STATUS
0304  3010
0305  3402  STORE PLD ADDRESS
0306  3011
0307  3403  STORE PLD LIMIT
0310  3002
0311  6010  READ PLD ENTRY
0312  3010
0313  3316
0314  0505  JUMP ON MISS
0315  3011
0316  3317
0317  1377
0320  0406  JUMP ON HIT
0321  3602
0322  3303
0323  0564  LOOP
0324  0353  EXIT ON MISS
0325  0000
0326  3014
0327  3406  STORE TRACK NUMBER
0330  3013
0331  1277
0332  3407  STORE SECTOR NUMBER
0333  0200  RJ READ PACKAGE FROM DISK
0334  0601
0335  0100
0336  1000  JUMP TO CALLED PROGRAM
0337  0000
 
 
.DISPLAY ERROR MESSAGE
.PACKAGE NAME IN TEMP 16/17
 
0340  0100  EXIT
0341  0000
0342  3016
0343  2200
0344  3737
0345  0502
0346  1455
0347  5400  STORE TWO CHARACTERS
0350  0366
0351  3017
0352  2200
0353  3700
0354  1655
0355  5400  STORE CHARACTER SPACE
0356  0367
0357  2000
0360  0366  XXX NOT IN PPLIB
0361  0200  RJ DAYFILE MESSAGE
0362  0531
0363  0354  EXIT
0364  0000
0365  0000
0366  0000  X X
0367  0000  X SP
0370  1617  N O
0371  2455  T SP
0372  1116  I N
0373  5520  SP P
0374  2014  P L
0375  1102  I B
0376  5700  .
0377  0000
 
 
.READ SECTOR FROM DISK 00
.CHANNEL REQUESTED ON ENTRY
.DISK POSITIONED ON ENTRY
.BEGINNING ADDRESS IN A ON ENTRY
.TRACK NUMBER IN TEMP 06
.SECTOR NUMBER IN TEMP 07
.TEMP 01, 06/14
 
0400  0100  EXIT
0401  0000
0402  5400  STORE BEGINNING ADDRESS
0403  0510
0404  3006  FORM SECTOR CODE
0405  1074
0406  1201
0407  2100
0410  1000
0411  3401  STORE PARTIAL CODE
0412  3007
0413  1001
0414  3101
0415  5400  STORE COMPLETE CODE
0416  0503
0417  0200  RJ READ SECTOR
0420  0501
0421  0356  EXIT ON PARITY OK
0422  3006
0423  1207
0424  2100
0425  1600
0426  3401  STORE GROUP CODE
0427  7600  SELECT NORMAL MARGIN
0430  0200  RJ READ SECTOR
0431  0501
0432  0345  EXIT ON PARITY OK
0433  3001
0434  1670
0435  7600  SELECT MARGIN 7
0436  0200  RJ READ SECTOR
0437  0501
0440  0371  EXIT ON PARITY OK
0441  3001
0442  1610
0443  7600  SELECT MARGIN 1
0444  0200  RJ READ SECTOR
0445  0501
0446  0363  EXIT ON PARITY OK
0447  0100
0450  0200  EXIT ON PARITY ERROR
0451  0000
0452  0411  D I
0453  2313  S K
0454  5533  SP 0
0455  3355  0 SP
0456  2001  P A
0457  2211  R I
0460  2431  T Y
0461  5505  SP E
0462  2222  R R
0463  1722  O R
0464  5555  SP SP
0465  0733  G O
0466  5524  SP T
0467  3333  0 0
0470  3355  0 SP
0471  2333  S 0
0472  3333  0 0
0473  5700  .
0474  0000
0475  0000
0476  0000
0477  0000
 
 
.READ SECTOR
.ADDRESS SUBSTITUTION IN 0503, 0510
.ADVANCE EXIT ON PARITY FAILURE
 
0500  0100  EXIT
0501  0000
0502  7700  BEGIN READ
0503  0000
0504  7400
0505  2000
0506  0502
0507  7100  INPUT DATA
0510  0000
0511  7500
0512  7700  REQUEST STATUS
0513  1700
0514  7400
0515  7000
0516  7500
0517  1012
0520  0657  EXIT ON PARITY OK
0521  5600
0522  0501
0523  0354  EXIT ON PARITY FAILURE
0524  0000
0525  0000
0526  0000
0527  0000
 
 
.DAYFILE MESSAGE
.MESSAGE ADDRESS IN A ON ENTRY
.TEMP 01/03, 10/14
 
0530  0100  EXIT
0531  0000
0532  3401  STORE MESSAGE ADDRESS
0533  3077
0534  3402  STORE WORD INDEX
0535  1410
0536  3403  STORE BYTE INDEX
0537  1400
0540  6010  CLEAR ASSEMBLY
0541  4001
0542  0413  JUMP ON END OF MESSAGE
0543  4403
0544  3601
0545  3603
0546  1115
0547  0571  LOOP
0550  3002
0551  6210  STORE WORD
0552  3602  ADVANCE WORD ADDRESS
0553  0361  LOOP
0554  0000
0555  3002
0556  6210  STORE WORD
0557  1401
0560  0200  RJ DAYFILE MESSAGE
0561  0761
0562  0100
0563  0530  EXIT
0564  0000
0565  0000
0566  0000
0567  0000
0570  0000
0571  0000
0572  0000
0573  0000
0574  0000
0575  0000
0576  0000
0577  0000
 
 
.READ PACKAGE FROM DISK
.TRACK NUMBER IN TEMP 06
.SECTOR NUMBER IN TEMP 07
.TEMP 01, 05/17
 
0600  0100  EXIT
0601  0000
0602  1400  CHANNEL
0603  0200  RJ REQUEST CHANNEL
0604  0741
0605  2000
0606  0771
0607  3405  STORE PERIPHERAL ADDRESS
0610  3006
0611  0200  RJ POSITION DISK
0612  0701
0613  3005
0614  0200  RJ READ SECTOR
0615  0401
0616  4005
0617  3407  STORE NEXT SECTOR
0620  1006
0621  0605  JUMP ON CONTINUING TRACK
0622  1071
0623  3406  STORE NEW TRACK
0624  1400
0625  3407
0626  3016
0627  4405  RESTORE BYTE
0630  5005  READ SECTOR LENGTH
0631  0001
0632  3401  STORE SECTOR LENGTH
0633  3017
0634  5405  RESTORE BYTE
0635  0001
0636  2000
0637  0500
0640  3505  ADVANCE PERIPHERAL ADDRESS
0641  4005
0642  3416
0643  5005  SAVE TWO BYTES
0644  0001
0645  3417
0646  3001
0647  1071
0650  0403  JUMP ON SHORT SECTOR
0651  0100
0652  0610  LOOP
0653  1400  CHANNEL
0654  0200  RJ DROP CHANNEL
0655  0751
0656  0100
0657  0600  EXIT
 
 
.WAIT OUTPUT CLEAR
 
0660  0100  EXIT
0661  0000
0662  3076
0663  6010  READ OUTPUT REGISTER
0664  3010
0665  0472  EXIT ON CLEAR
0666  1477
0667  1701
0670  0576  DELAY
0671  0370  LOOP
0672  0000
0673  0000
0674  0000
0675  0000
0676  0000
0677  0000
 
 
.POSITION DISK 00
.TRACK NUMBER IN A ON ENTRY
.CHANNEL REQUESTED ON ENTRY
.TEMP 01, 10/14
 
0700  0100  EXIT
0701  0000
0702  3401  STORE TRACK NUMBER
0703  1410
0704  6010  READ DISK STATUS
0705  3001
0706  3311  COMPARE POSITIONS
0707  2200
0710  7760
0711  0410  JUMP ON SAME POSITION
0712  3001
0713  1073
0714  2200
0715  0177
0716  2100
0717  1400
0720  7600  POSITION
0721  3001
0722  3311
0723  1207
0724  0406  JUMP ON SAME GROUP
0725  3001
0726  1207
0727  2100
0730  1600
0731  7600  SELECT GROUP
0732  3001
0733  3411
0734  1410
0735  6210  STORE NEW TRACK STATUS
0736  0341  EXIT
0737  0000
 
 
.REQUEST CHANNEL
.CHANNEL NUMBER IN A ON ENTRY
.TEMP 10/14
 
0740  0100  EXIT
0741  0000
0742  3411  STORE CHANNEL NUMBER
0743  1402
0744  0200  RJ PROCESS REQUEST
0745  0761
0746  0371  EXIT
0747  0000
 
 
.DROP CHANNEL
.CHANNEL NUMBER IN A ON ENTRY
.TEMP 10/14
 
0750  0100  EXIT
0751  0000
0752  3411  STORE CHANNEL NUMBER
0753  1403
0754  0200  RJ PROCESS REQUEST
0755  0761
0756  0371  EXIT
0757  0000
 
 
.PROCESS REQUEST
.FUNCTION IN A ON ENTRY
.TEMP 10/14
 
0760  0100  EXIT
0761  0000
0762  3410  STORE FUNCTION
0763  3076
0764  6210  LOAD OUTPUT REGISTER
0765  0200  RJ WAIT OUTPUT CLEAR
0766  0661
0767  0370  EXIT
0770  0000
0771  0000
0772  0000
0773  0000
0774  0000
0775  0000
0776  0000
0777  0000
 
 
1000  7705  REQUEST STATUS
1001  2100
1002  7405
1003  7005  READ STATUS
1004  7505
1005  1202
1006  0500  STOP ON PARITY ERROR
1007  1477
1010  7201  STORE BYTE 0000
1011  2000
1012  0777
1013  7301  STORE PP RESIDENT
1014  0001
1015  1410
1016  3575
1017  1410
1020  3576
1021  1410
1022  3577
1023  5600
1024  1010
1025  5600
1026  1013
1027  1277
1030  1705
1031  0463  SKIP CHANNEL 5
1032  1704
1033  0553  LOOP TO CHANNEL 9
1034  2000
1035  0777
1036  7211
1037  2000
1040  0772
1041  7311  PP9 RESIDENT
1042  0001
1043  1410
1044  3575
1045  1410
1046  3576
1047  1410
1050  3577
1051  0200  RJ READ NEXT BLOCK
1052  1201
1053  3401
1054  1002
1055  3101
1056  0406
1057  7311  DISPLAY PROGRAM
1060  2700
1061  3001
1062  1066
1063  0565  LOOP
1064  2000
1065  0777
1066  7213
1067  2000
1070  0772
1071  7313  PP0 RESIDENT
1072  0001
1073  2000
1074  0120
1075  3475
1076  1601
1077  3476
1100  1601
1101  3477
1102  0200  RJ READ NEXT BLOCK
1103  1201
1104  3401
1105  1002
1106  3101
1107  0406
1110  7313  MONITOR PROGRAM
1111  2700
1112  3001
1113  1066
1114  0565  LOOP
1115  1400
1116  3470  CLEAR CENTRAL ADDRESS
1117  3471
1120  0200  RJ READ NEXT BLOCK
1121  1201
1122  3401
1123  0414  JUMP ON ZERO LENGTH
1124  3070
1125  1014
1126  3171
1127  6301  STORE CENTRAL
1130  2700
1131  3471
1132  1063
1133  3470
1134  3001
1135  1066
1136  0561  LOOP
1137  7513
1140  7512
1141  7511
1142  7510
1143  7507
1144  7506
1145  7504
1146  7503
1147  7502
1150  7501
1151  1410
1152  3411
1153  1406  REQUEST TRACK
1154  0200  RJ PROCESS REQUEST
1155  0761
1156  3077
1157  6010  READ MESSAGE BUFFER
1160  3010
1161  3406  STORE TRACK
1162  1400
1163  3407  STORE SECTOR
1164  1402
1165  6020  READ PLD STATUS
1166  0200  RJ STORE LIBRARY
1167  1401
1170  1407
1171  6020  READ CLD STATUS
1172  0200  RJ STORE LIBRARY
1173  1401
1174  7705  REWIND TAPE
1175  2060
1176  0100
1177  0100  EXIT
 
 
.READ NEXT BLOCK
.TEMP 01, 02
 
1200  0100  EXIT
1201  0000
1202  2000
1203  1000
1204  3401  STORE BLOCK LENGTH
1205  7705  BEGIN READ
1206  2020
1207  7405
1210  2000
1211  5000
1212  7105  READ BLOCK
1213  2700
1214  0411  JUMP ON FULL BLOCK
1215  3402
1216  3701  COMPUTE SHORT LENGTH
1217  1505
1220  3502
1221  0402
1222  0673  LOOP
1223  0303
1224  0000
1225  7505
1226  7705  REQUEST STATUS
1227  2100
1230  7405
1231  7005  READ STATUS
1232  7505
1233  3402
1234  1220
1235  0500  STOP ON FILE MARK
1236  3002
1237  1202
1240  0500  STOP ON PARITY ERROR
1241  3001  ENTER LENGTH
1242  0100
1243  1200  EXIT
1244  0000
1245  0000
1246  0000
1247  0000
 
 
.WRITE DISK SECTOR
.BUFFER ADDRESS IN TEMP 05
.TRACK NUMBER IN TEMP 06
.SECTOR NUMBER IN TEMP 07
.TEMP 01, 02, 05/14
 
1300  0100  EXIT
1301  0000
1302  3006
1303  0200  RJ POSITION DISK
1304  0701
1305  3006
1306  1074
1307  1201
1310  3401
1311  3007
1312  1001
1313  3501  STORE SECTOR LENGTH
1314  1410
1315  6010  READ DISK STATUS
1316  3006
1317  1075
1320  1201
1321  1613
1322  3402
1323  3607
1324  4405  STORE CONTROL BYTE
1325  4302
1326  0515  JUMP ON CONTINUING TRACK
1327  1410
1330  3411
1331  1406  REQUEST TRACK
1332  0200  RJ PROCESS REQUEST
1333  0761
1334  3077
1335  6010  READ MESSAGE BUFFER
1336  3010
1337  3406  STORE NEW TRACK
1340  4405
1341  1400
1342  3407  CLEAR SECTOR
1343  3005
1344  5400  STORE BUFFER ADDRESS
1345  1356
1346  2000
1347  1200
1350  3101
1351  7600  BEGIN WRITE
1352  7400
1353  2000
1354  0502
1355  7300  OUTPUT DATA
1356  0000
1357  7500
1360  0100
1361  1300  EXIT
1362  0000
1363  0000
1364  0000
1365  0000
1366  0000
1367  0000
 
 
.STORE LIBRARY
.TRACK NUMBER IN TEMP 06
.SECTOR NUMBER IN TEMP 07
.DIRECTORY ADDRESS IN TEMP 20
 
1400  0100  EXIT
1401  0000
1402  0200  RJ READ NEXT BLOCK
1403  1201
1404  0473  EXIT ON ZERO BLOCK
1405  3404  STORE BLOCK LENGTH
1406  5000
1407  2700
1410  3410
1411  5000
1412  2701
1413  3411
1414  5000
1415  2702
1416  3412
1417  5000
1420  2703
1421  1377
1422  3107
1423  3413
1424  3006
1425  3414
1426  3020
1427  6210  STORE DIRECTORY ENTRY
1430  2000
1431  2676
1432  3405  STORE INITIAL BUFFER ADDRESS
1433  1400
1434  3403  CLEAR ACCUMULATED LENGTH
1435  2000
1436  0100
1437  5405  STORE SECTOR LENGTH
1440  0001
1441  3503
1442  3204
1443  0402
1444  0610  JUMP ON END OF BLOCK
1445  0200  RJ WRITE DISK SECTOR
1446  1301
1447  2000
1450  0500
1451  3505  ADVANCE BUFFER ADDRESS
1452  0362  LOOP
1453  0000
1454  3004
1455  1066
1456  0407  JUMP ON SHORT BLOCK
1457  0200  RJ READ NEXT BLOCK
1460  1201
1461  3404  STORE BLOCK LENGTH
1462  0100
1463  1430  LOOP
1464  0000
1465  3004
1466  1277
1467  5405  STORE SECTOR LENGTH
1470  0001
1471  0200  RJ WRITE DISK SECTOR
1472  1301
1473  3620  ADVANCE DIRECTORY
1474  0100
1475  1402  LOOP
1476  0000
1477  0000
