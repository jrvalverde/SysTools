PBC   1000
.REVISED 12/20/64
 
.TEMPORARY STORAGE
.50/54  INPUT REGISTER
.55  REFERENCE ADDRESS
.56  FIELD LENGTH
.57  EQUIPMENT NUMBER
.60/61  INITIAL ADDRESS
.62/63  CARD LIMIT
.74  CONTROL POINT ADDRESS
.7600/7717  PUNCH BUFFER
 
1000  3075
1001  6050  READ INPUT REGISTER
1002  3052
1003  1071
1004  3460
1005  3052
1006  1277
1007  1014
1010  3153
1011  1071
1012  3461  STORE INITIAL ADDRESS
1013  3051
1014  1207
1015  1007
1016  3474  STORE CP ADDRESS
1017  3053
1020  1277
1021  3453
1022  1014
1023  0603  SENSE FLAG
1024  0200  RJ PROCESS FLAG LENGTH
1025  1641
1026  3053
1027  3260
1030  0704
1031  1014
1032  3154
1033  3261
1034  0737  JUMP ON ARGUMENT ERROR
1035  0503  SENSE ZERO LENGTH
1036  0200  RJ PROCESS RA LENGTH
1037  1601
1040  0200  RJ REQUEST CP
1041  1201
1042  0200  RJ MODIFY PROGRAM FOR EQUIPMENT PARAMETERS
1043  1501
1044  1400
1045  5400  CLEAR CARD COUNT
1046  7717
1047  0200  RJ SENSE CP STATUS
1050  1101
1051  0200  RJ LOAD PUNCH BUFFER
1052  1301
1053  0200  RJ PUNCH ONE CARD
1054  1401
1055  3062
1056  3460
1057  3063
1060  3461
1061  3354
1062  0564  LOOP
1063  3060
1064  3353
1065  0561  LOOP
1066  3057
1067  3411
1070  1423  DROP EQUIPMENT
1071  0200  RJ PROCESS REQUEST
1072  0761
1073  1412  RELEASE PP
1074  0200  RJ PROCESS REQUEST
1075  0761
1076  0100
1077  0100  EXIT
 
 
.SENSE CP STATUS
 
1100  0100  EXIT
1101  0000
1102  1417  PAUSE
1103  0200  RJ PROCESS REQUEST
1104  0761
1105  3074
1106  1620
1107  6010  READ CP STATUS
1110  3011
1111  0526  JUMP ON ERROR FLAG
1112  3013
1113  3455  STORE RA
1114  3014
1115  3456  STORE FL
1116  3053
1117  1014
1120  3154
1121  1701
1122  1071
1123  3256
1124  0753  EXIT
1125  2000
1126  1150  PBC RANGE ERROR
1127  0200  RJ DAYFILE MESSAGE
1130  0531
1131  1413  ABORT CP
1132  0200  RJ PROCESS REQUEST
1133  0761
1134  0100
1135  0100  EXIT
1136  0000
1137  1412  RELEASE PP
1140  0200  RJ PROCESS REQUEST
1141  0761
1142  0100
1143  0100  EXIT
1144  0000
1145  0000
1146  0000
1147  0000
1150  2002  P B
1151  0355  C SP
1152  2201  R A
1153  1607  N G
1154  0555  E SP
1155  0522  E R
1156  2217  R O
1157  2257  R .
1160  0000
1161  0000
1162  1617  N O
1163  5503  SP C
1164  2055  P SP
1165  0126  A V
1166  0111  A I
1167  1401  L A
1170  0214  B L
1171  0557  E .
1172  0000
1173  0000
1174  0000
1175  0000
1176  0000
1177  0000
 
 
.REQUEST CP
 
1200  0100  EXIT
1201  0000
1202  2000
1203  0320  CP
1204  3411
1205  1422  REQUEST EQUIPMENT
1206  0200  RJ PROCESS REQUEST
1207  0761
1210  3077
1211  6010  READ MESSAGE BUFFER
1212  3010
1213  3457
1214  0563  EXIT ON EQUIPMENT NUMBER
1215  1402
1216  3401
1217  3074
1220  1630
1221  6301  STORE CONSOLE MESSAGE
1222  1162  NO CP AVAILABLE
1223  0200  RJ SENSE CP STATUS
1224  1101
1225  0354  LOOP
1226  0000
1227  0000
1230  0000
1231  0000
1232  0000
1233  0000
1234  0000
1235  0000
1236  0000
1237  0000
 
 
.SENSE PUNCH READY
 
1240  0100  EXIT
1241  0000
1242  7713  STATUS REQUEST
1243  0040
1244  7413
1245  7013  READ STATUS
1246  7513
1247  0423  EXIT ON READY
1250  1402
1251  3401
1252  3074
1253  1630
1254  6301  STORE CONSOLE MESSAGE
1255  1260  PUNCH NOT READY
1256  0363  LOOP
1257  0000
1260  2025  P U
1261  1603  N C
1262  1055  H SP
1263  1617  N O
1264  2455  T SP
1265  2205  R E
1266  0104  A D
1267  3157  Y .
1270  0000
1271  0000
1272  1400
1273  6010
1274  3074
1275  1630
1276  6210  CLEAR CONSOLE MESSAGE
1277  0340  EXIT
 
 
.LOAD PUNCH BUFFER
 
1300  0100  EXIT
1301  0000
1302  3060
1303  1014
1304  3161
1305  1617
1306  3463  STORE CARD LIMIT
1307  1063
1310  3462
1311  3253
1312  0711  JUMP ON FULL CARD
1313  1014
1314  3163
1315  3254
1316  0705  JUMP ON FULL CARD
1317  3053
1320  3462
1321  3054
1322  3463  STORE LAST CARD LIMIT
1323  2000
1324  7600
1325  3401
1326  3062
1327  3260
1330  1014
1331  3163
1332  3261
1333  3402  STORE CARD LENGTH
1334  1006
1335  1605
1336  4401  STORE COLUMN ONE
1337  3601
1340  1400
1341  4401  CLEAR BUFFER
1342  3601
1343  2300
1344  7717
1345  0572  LOOP
1346  4601  ADVANCE CARD COUNT
1347  3060
1350  1006
1351  3155
1352  1006
1353  3161
1354  6102
1355  7602
1356  1400
1357  3402  CLEAR CHECK SUM
1360  2000
1361  7602
1362  3401
1363  4001
1364  2377
1365  0000
1366  3502  SUM DATA BYTES
1367  3601
1370  2300
1371  7715
1372  0570  LOOP
1373  3202
1374  5400  STORE CHECK SUM
1375  7601
1376  0100
1377  1300  EXIT
 
 
.PUNCH ONE CARD
.PUNCH BUFFER AT 7600
.TEMP 01/04, 10/14
 
1400  0100  EXIT
1401  0000
1402  1413  CHANNEL 13
1403  0200  RJ REQUEST CHANNEL
1404  0741
1405  0200  RJ SENSE PUNCH READY
1406  1241
1407  7713
1410  0002  BEGIN PUNCH
1411  7413
1412  1400
1413  3404  CLEAR ROW NUMBER
1414  1400
1415  3403  CLEAR COLUMN NUMBER
1416  3004
1417  0200  RJ OUTPUT BYTE
1420  1441
1421  3003
1422  2300
1423  0124
1424  0571  LOOP TO END OF COLUMN
1425  3604  ADVANCE ROW
1426  1714
1427  0564  SENSE LAST ROW
1430  6613
1431  1430
1432  7513
1433  1413  CHANNEL 13
1434  0200  RJ DROP CHANNEL
1435  0751
1436  0341  EXIT
1437  0000
 
 
.OUTPUT ONE BYTE TO PUNCH
.ROW NUMBER IN A ON ENTRY
.COLUMN NUMBER IN TEMP 03
.EXIT WITH COLUMN NUMBER ADVANCED
.TEMP 01/03
 
1440  0100  EXIT
1441  0000
1442  2300
1443  1077
1444  5400  STORE SHIFT INSTRUCTION
1445  1457
1446  1400
1447  3401  CLEAR ASSEMBLY
1450  3003
1451  1614
1452  3402  SET COLUMN LIMIT
1453  3001
1454  3501  SHIFT ASSEMBLY
1455  5003
1456  7600  READ BUFFER
1457  0000  COMPUTED SHIFT
1460  1201
1461  3501  ADD BIT
1462  3603  ADVANCE COLUMN
1463  3202
1464  0566  LOOP
1465  3001
1466  7213  OUTPUT BYTE
1467  0350  EXIT
1470  0000
1471  0000
1472  0000
1473  0000
1474  0000
1475  0000
1476  0000
1477  0000
 
 
.MODIFY PROGRAM FOR EQUIPMENT PARAMETERS
.TEMP 01, 02, 10/14, 57
 
1500  0100  EXIT
1501  0000
1502  1405
1503  6010  READ EST STATUS
1504  3010
1505  3157
1506  6010  READ EST ENTRY
1507  2000
1510  1540
1511  3401  STORE TABLE ADDRESS
1512  4001
1513  0411  SENSE END OF TABLE
1514  3402
1515  4002  MODIFY CHANNEL REFERENCE
1516  1377
1517  3111
1520  4402
1521  3601  ADVANCE TABLE ADDRESS
1522  0367  LOOP
1523  0000
1524  2000
1525  1560
1526  3401  STORE TABLE ADDRESS
1527  4001
1530  0447  EXIT ON END OF TABLE
1531  3402
1532  3012  MODIFY SYNCHRONIZER REFERENCES
1533  4502
1534  3601
1535  0371  LOOP
1536  0000
1537  0000
 
 
.CHANNEL MODIFICATION TABLE
 
1540  1242
1541  1244
1542  1245
1543  1246
1544  1402
1545  1407
1546  1411
1547  1430
1550  1432
1551  1433
1552  1466
1553  0000
1554  0000
1555  0000
1556  0000
1557  0000
 
 
.SYNCHRONIZER MODIFICATION TABLE
 
1560  1243
1561  1410
1562  0000
1563  0000
1564  0000
1565  0000
1566  0000
1567  0000
 
 
.PROCESS RA LENGTH
 
1600  0100  EXIT
1601  0000
1602  3074
1603  1620
1604  6010  READ CP STATUS
1605  3013
1606  1006
1607  6010  READ RA
1610  3013
1611  1277
1612  3453
1613  1014
1614  3114
1615  3454
1616  0406  SENSE ZERO LENGTH
1617  1400
1620  3460
1621  3461
1622  0355  EXIT
1623  0000
1624  1412  RELEASE PP
1625  0200  RJ PROCESS REQUEST
1626  0761
1627  0100
1630  0100  EXIT
1631  0000
1632  0000
1633  0000
1634  0000
1635  0000
1636  0000
1637  0000
 
 
.PROCESS FLAG LENGTH
 
1640  0100  EXIT
1641  0000
1642  3053
1643  1237
1644  3460
1645  3054
1646  3461
1647  3074
1650  1620
1651  6010  READ CP STATUS
1652  3060
1653  1006
1654  3113
1655  1006
1656  3161
1657  6010  READ FLAG ADDRESS
1660  3013
1661  1277
1662  3160
1663  1014
1664  3161
1665  3114
1666  3454
1667  1063
1670  3453  STORE TERMINAL ADDRESS
1671  3013
1672  1277
1673  1014
1674  3114
1675  0542  EXIT ON NON ZERO LENGTH
1676  1412  RELEASE PP
1677  0200  RJ PROCESS REQUEST
1700  0761
1701  0100
1702  0100  EXIT
1703  0000
1704  0000
1705  0000
1706  0000
1707  0000
