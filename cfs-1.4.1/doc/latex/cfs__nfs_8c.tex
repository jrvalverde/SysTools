\section{cfs\_\-nfs.c File Reference}
\label{cfs__nfs_8c}\index{cfs_nfs.c@{cfs\_\-nfs.c}}


{\tt \#include $<$stdio.h$>$}\par
{\tt \#include $<$sys/file.h$>$}\par
{\tt \#include $<$sys/types.h$>$}\par
{\tt \#include $<$sys/stat.h$>$}\par
{\tt \#include $<$rpc/rpc.h$>$}\par
{\tt \#include $<$errno.h$>$}\par
{\tt \#include $<$dirent.h$>$}\par
{\tt \#include \char`\"{}nfsproto.h\char`\"{}}\par
{\tt \#include \char`\"{}admproto.h\char`\"{}}\par
{\tt \#include \char`\"{}cfs.h\char`\"{}}\par


Include dependency graph for cfs\_\-nfs.c:\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define {\bf herr}(x)\ (((x)==H\_\-INVALID)?NFSERR\_\-STALE:NFSERR\_\-PERM)
\item 
\#define {\bf as\_\-attr}\ attrstat\_\-u.attributes
\item 
\#define {\bf MAXENTRIES}\ 128
\item 
\#define {\bf MAXENTSIZE}\ (NFS\_\-MAXNAMLEN + sizeof(entry) + 32)
\item 
\#define {\bf dentsize}({\bf s})\ (strlen({\bf s}) + sizeof(entry) + 32)
\end{CompactItemize}
\subsection*{Typedefs}
\begin{CompactItemize}
\item 
typedef svc\_\-req $\ast$ {\bf SR}
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
char $\ast$ {\bf pfh} (fh) unsigned char $\ast$fh
\item 
readdirres $\ast$ {\bf rootreaddir} ()
\item 
attrstat $\ast$ {\bf nfsproc\_\-getattr\_\-2} (ap, {\bf rp}) nfs\_\-fh $\ast$ap
\item 
DIR $\ast$ {\bf cfsopendir} (dir, {\bf cookie}) {\bf cfs\_\-fileid} $\ast$dir
\item 
{\bf goodsrc} ({\bf rp}) {\bf SR} {\bf rp}
\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
{\bf SR} {\bf rp}
\item 
int {\bf curdirid} = 0
\item 
long {\bf curcookie}
\item 
long {\bf cookie}
\item 
fattr $\ast$ {\bf fa}
\end{CompactItemize}


\subsection{Define Documentation}
\index{cfs_nfs.c@{cfs\_\-nfs.c}!as_attr@{as\_\-attr}}
\index{as_attr@{as\_\-attr}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define as\_\-attr\ attrstat\_\-u.attributes}\label{cfs__nfs_8c_a1}


\index{cfs_nfs.c@{cfs\_\-nfs.c}!dentsize@{dentsize}}
\index{dentsize@{dentsize}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define dentsize({\bf s})\ (strlen({\bf s}) + sizeof(entry) + 32)}\label{cfs__nfs_8c_a4}


\index{cfs_nfs.c@{cfs\_\-nfs.c}!herr@{herr}}
\index{herr@{herr}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define herr(x)\ (((x)==H\_\-INVALID)?NFSERR\_\-STALE:NFSERR\_\-PERM)}\label{cfs__nfs_8c_a0}




Definition at line 42 of file cfs\_\-nfs.c.\index{cfs_nfs.c@{cfs\_\-nfs.c}!MAXENTRIES@{MAXENTRIES}}
\index{MAXENTRIES@{MAXENTRIES}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define MAXENTRIES\ 128}\label{cfs__nfs_8c_a2}


\index{cfs_nfs.c@{cfs\_\-nfs.c}!MAXENTSIZE@{MAXENTSIZE}}
\index{MAXENTSIZE@{MAXENTSIZE}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define MAXENTSIZE\ (NFS\_\-MAXNAMLEN + sizeof(entry) + 32)}\label{cfs__nfs_8c_a3}




\subsection{Typedef Documentation}
\index{cfs_nfs.c@{cfs\_\-nfs.c}!SR@{SR}}
\index{SR@{SR}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef struct svc\_\-req$\ast$ {\bf SR}}\label{cfs__nfs_8c_a5}




Definition at line 40 of file cfs\_\-nfs.c.

\subsection{Function Documentation}
\index{cfs_nfs.c@{cfs\_\-nfs.c}!cfsopendir@{cfsopendir}}
\index{cfsopendir@{cfsopendir}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}DIR$\ast$ cfsopendir (dir, {\bf cookie})}\label{cfs__nfs_8c_a14}


\index{cfs_nfs.c@{cfs\_\-nfs.c}!goodsrc@{goodsrc}}
\index{goodsrc@{goodsrc}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}goodsrc ({\bf rp})}\label{cfs__nfs_8c_a15}


\index{cfs_nfs.c@{cfs\_\-nfs.c}!nfsproc_getattr_2@{nfsproc\_\-getattr\_\-2}}
\index{nfsproc_getattr_2@{nfsproc\_\-getattr\_\-2}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}attrstat$\ast$ nfsproc\_\-getattr\_\-2 (ap, {\bf rp})}\label{cfs__nfs_8c_a13}


\index{cfs_nfs.c@{cfs\_\-nfs.c}!pfh@{pfh}}
\index{pfh@{pfh}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ pfh (fh)}\label{cfs__nfs_8c_a11}


\index{cfs_nfs.c@{cfs\_\-nfs.c}!rootreaddir@{rootreaddir}}
\index{rootreaddir@{rootreaddir}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}readdirres$\ast$ rootreaddir ()}\label{cfs__nfs_8c_a12}




\subsection{Variable Documentation}
\index{cfs_nfs.c@{cfs\_\-nfs.c}!cookie@{cookie}}
\index{cookie@{cookie}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}long {\bf cookie}}\label{cfs__nfs_8c_a9}




Definition at line 972 of file cfs\_\-nfs.c.\index{cfs_nfs.c@{cfs\_\-nfs.c}!curcookie@{curcookie}}
\index{curcookie@{curcookie}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}long {\bf curcookie}}\label{cfs__nfs_8c_a8}




Definition at line 967 of file cfs\_\-nfs.c.\index{cfs_nfs.c@{cfs\_\-nfs.c}!curdirid@{curdirid}}
\index{curdirid@{curdirid}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int {\bf curdirid} = 0}\label{cfs__nfs_8c_a7}




Definition at line 966 of file cfs\_\-nfs.c.\index{cfs_nfs.c@{cfs\_\-nfs.c}!fa@{fa}}
\index{fa@{fa}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}fattr$\ast$ {\bf fa}}\label{cfs__nfs_8c_a10}




Definition at line 1040 of file cfs\_\-nfs.c.\index{cfs_nfs.c@{cfs\_\-nfs.c}!rp@{rp}}
\index{rp@{rp}!cfs_nfs.c@{cfs\_\-nfs.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf SR} {\bf rp}}\label{cfs__nfs_8c_a6}




Definition at line 996 of file cfs\_\-nfs.c.